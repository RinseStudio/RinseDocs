---
import Layout from '@/layouts/rinsedocs/Raw.astro';
import Tab from '@/components/ui/modules/Tab';
import Button from '@/components/ui/elements/Button';
import Card from '@/components/ui/elements/Card';
import Table from '@/components/ui/elements/Table';
import Dropdown from '@/components/ui/modules/Dropdown';
import Tooltip from '@/components/ui/elements/Tooltip';
import SelectField from '@/components/ui/elements/SelectField';
import SearchField from '@/components/ui/elements/SearchField/index.astro';
---

<Layout layoutClass="">
  <div class="app grid grid-cols-[var(--sidebar-width),1fr]" style="--sidebar-width: 240px">
    <aside class="sticky top-0 flex h-[100dvh] min-w-[200px] max-w-[400px] flex-none">Castle Sidebar</aside>

    <main class="relative border-l border-zinc-200">
      <div
        @mousedown="APP.slideReady"
        x-ref="slideHandle"
        class="absolute bottom-0 left-0 top-0 z-30 flex w-[10px] cursor-grab justify-start opacity-0 duration-300 hover:opacity-100"
      >
        <div class="w-[2px] bg-blue-400"></div>
      </div>
      <div class="px-7 py-4">
        <h1 class="mb-2 text-lg font-bold text-black">Reporting Dashboard</h1>
        <p class="text-sm text-gray-600">Here is an overview of how well Castle is protecting your users.</p>
      </div>
      <div class="px-7 py-6">
        <div class="mb-4 flex items-end justify-between">
          <Dropdown position="bottomEnd" widthClass="w-full">
            <Dropdown.Trigger>
              <SelectField className="min-w-[220px]" value="All Events" isFluid />
            </Dropdown.Trigger>
            <Dropdown.Content className="w-full">
              <Dropdown.Group>
                <Dropdown.Items>
                  <Dropdown.Item onClick={'isOpen = !isOpen'}>is</Dropdown.Item>
                  <Dropdown.Item onClick={'isOpen = !isOpen'}>is not</Dropdown.Item>
                  <Dropdown.Item onClick={'isOpen = !isOpen'}>is one of</Dropdown.Item>
                </Dropdown.Items>
              </Dropdown.Group>
            </Dropdown.Content>
          </Dropdown>
          <div class="flex items-center gap-2">
            <SearchField placeholder="Filter by keyword" />
          </div>
        </div>

        <div class="space-y-10">
          <Card className="grid grid-cols-4 divide-x divide-zinc-200">
            <div class="px-5 py-5">
              <dl>
                <dt class="mb-2 flex items-center gap-2 text-xs font-semibold leading-none text-gray-600">Total events</dt>
                <dd class="flex items-center gap-2 text-2xl font-bold text-black">
                  1,520
                  <div class="flex h-5 items-center rounded-md bg-blue-500/10 bg-red-100 px-2 text-xs font-semibold text-red-600">5.45%</div>
                </dd>
              </dl>
              <div class="mt-3 text-xs font-medium leading-none">252 more than last period.</div>
            </div>
            <div class="px-5 py-5">
              <dl>
                <dt class="mb-2 flex items-center gap-2 text-xs font-semibold leading-none text-gray-600">% of Total</dt>
                <dd class="flex items-center gap-2 text-2xl font-bold text-black">
                  1,520
                  <div class="flex h-5 items-center rounded-md bg-blue-500/10 bg-green-100 px-2 text-xs font-semibold text-green-600">5.45%</div>
                </dd>
              </dl>
              <div class="mt-3 text-xs font-medium leading-none">252 more than last period.</div>
            </div>
            <div class="px-5 py-5">
              <dl>
                <dt class="mb-2 flex items-center gap-2 text-xs font-semibold leading-none text-gray-600">Highest events</dt>
                <dd class="flex items-center gap-2 text-2xl font-bold text-black">
                  1,520
                  <div class="flex h-5 items-center rounded-md bg-blue-500/10 bg-red-100 px-2 text-xs font-semibold text-red-600">5.45%</div>
                </dd>
              </dl>
              <div class="mt-3 text-xs font-medium leading-none">252 more than last period.</div>
            </div>
            <div class="px-5 py-5">
              <dl>
                <dt class="mb-2 flex items-center gap-2 text-xs font-semibold leading-none text-gray-600">Bot score distribution</dt>
                <dd class="flex items-center gap-2 text-2xl font-bold text-black">
                  1,520
                  <div class="flex h-5 items-center rounded-md bg-blue-500/10 bg-red-100 px-2 text-xs font-semibold text-red-600">5.45%</div>
                </dd>
              </dl>
              <div class="mt-3 text-xs font-medium leading-none">252 more than last period.</div>
            </div>
          </Card>

          <div>
            <div class="mb-4 flex items-end justify-between">
              <div class="flex items-center gap-4">
                <h3 class="flex items-center gap-2 text-sm font-bold text-black">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-scan-search"
                    ><path d="M3 7V5a2 2 0 0 1 2-2h2"></path><path d="M17 3h2a2 2 0 0 1 2 2v2"></path><path d="M21 17v2a2 2 0 0 1-2 2h-2"></path><path d="M7 21H5a2 2 0 0 1-2-2v-2"
                    ></path><circle cx="12" cy="12" r="3"></circle><path d="m16 16-1.9-1.9"></path></svg
                  >
                   User Insight
                </h3>
              </div>
            </div>
            <Card className="grid grid-cols-4 divide-x divide-zinc-200">
              <div class="px-5 py-5">
                <dl>
                  <dt class="mb-2 flex items-center gap-2 text-xs font-semibold leading-none text-gray-600">Total events</dt>
                  <dd class="flex items-center gap-2 text-2xl font-bold text-black">
                    1,520
                    <div class="flex h-5 items-center rounded-md bg-blue-500/10 bg-red-100 px-2 text-xs font-semibold text-red-600">5.45%</div>
                  </dd>
                </dl>
                <div class="mt-3 text-xs font-medium leading-none">252 more than last period.</div>
              </div>
              <div class="px-5 py-5">
                <dl>
                  <dt class="mb-2 flex items-center gap-2 text-xs font-semibold leading-none text-gray-600">% of Total</dt>
                  <dd class="flex items-center gap-2 text-2xl font-bold text-black">
                    1,520
                    <div class="flex h-5 items-center rounded-md bg-blue-500/10 bg-green-100 px-2 text-xs font-semibold text-green-600">5.45%</div>
                  </dd>
                </dl>
                <div class="mt-3 text-xs font-medium leading-none">252 more than last period.</div>
              </div>
              <div class="px-5 py-5">
                <dl>
                  <dt class="mb-2 flex items-center gap-2 text-xs font-semibold leading-none text-gray-600">Highest events</dt>
                  <dd class="flex items-center gap-2 text-2xl font-bold text-black">
                    1,520
                    <div class="flex h-5 items-center rounded-md bg-blue-500/10 bg-red-100 px-2 text-xs font-semibold text-red-600">5.45%</div>
                  </dd>
                </dl>
                <div class="mt-3 text-xs font-medium leading-none">252 more than last period.</div>
              </div>
              <div class="px-5 py-5">
                <dl>
                  <dt class="mb-2 flex items-center gap-2 text-xs font-semibold leading-none text-gray-600">Bot score distribution</dt>
                  <dd class="flex items-center gap-2 text-2xl font-bold text-black">
                    1,520
                    <div class="flex h-5 items-center rounded-md bg-blue-500/10 bg-red-100 px-2 text-xs font-semibold text-red-600">5.45%</div>
                  </dd>
                </dl>
                <div class="mt-3 text-xs font-medium leading-none">252 more than last period.</div>
              </div>
            </Card>
          </div>

          <div>
            <div class="mb-4 flex items-end justify-between">
              <div class="flex items-center gap-4">
                <h3 class="flex items-center gap-2 text-sm font-bold text-black">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-scan-search"
                    ><path d="M3 7V5a2 2 0 0 1 2-2h2"></path><path d="M17 3h2a2 2 0 0 1 2 2v2"></path><path d="M21 17v2a2 2 0 0 1-2 2h-2"></path><path d="M7 21H5a2 2 0 0 1-2-2v-2"
                    ></path><circle cx="12" cy="12" r="3"></circle><path d="m16 16-1.9-1.9"></path></svg
                  >
                   Protection Insight
                </h3>
                <div class="h-4 w-px bg-zinc-200"></div>
                <Tab className="px-4">
                  <Tab.Item onClick="" isActive>Policy Action</Tab.Item>
                  <Tab.Item onClick="">Policies Triggered</Tab.Item>
                  <Tab.Item onClick="">Signals Triggered</Tab.Item>
                </Tab>
              </div>
            </div>

            <Card className="overflow-auto">
              <Table x-data="Table" className="table-fixed">
                <Table.Header>
                  <Table.Row>
                    <Table.Head className="w-[180px] px-4 py-3 text-xs font-medium text-gray-900">Date</Table.Head>
                    <Table.Head className="w-[180px] px-4 py-3 text-xs font-medium text-gray-900">URL</Table.Head>
                    <Table.Head className="w-[180px] px-4 py-3 text-xs font-medium text-gray-900">Event</Table.Head>
                    <Table.Head className="w-[180px] px-4 py-3 text-xs font-medium text-gray-900">Status</Table.Head>
                    <Table.Head className="w-[180px] px-4 py-3 text-xs font-medium text-gray-900">Action</Table.Head>
                    <Table.Head className="w-full px-4 py-3 text-xs font-medium text-gray-900">Message</Table.Head>
                  </Table.Row>
                </Table.Header>
                <Table.Body>
                  <Table.Row className="cursor-pointer hover:bg-zinc-50">
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">
                      <div class="flex items-center gap-3">
                        <div class="h-3 w-3 rounded-full bg-red-500"></div>
                         Jan 10, 04:35
                      </div>
                    </Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">/v1/log</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">$profile_update</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">succeeded</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">–</Table.Cell>
                    <Table.Cell className="truncate px-4 py-4 font-mono">
                      response.body: One or more parameters are invalid: context[ip] Private and local IP addresses are not allowed in production environments. If your application
                      sits behind a firewall, the true client IP can often be found in a header such as X-Forwarded-For
                    </Table.Cell>
                  </Table.Row>
                  <Table.Row className="cursor-pointer hover:bg-zinc-50">
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">
                      <div class="flex items-center gap-3">
                        <div class="h-3 w-3 rounded-full bg-orange-500"></div>
                         Jan 10, 04:35
                      </div>
                    </Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">/v1/log</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">$profile_update</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">succeeded</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">–</Table.Cell>
                    <Table.Cell className="truncate px-4 py-4 font-mono">
                      response.body: One or more parameters are invalid: context[ip] Private and local IP addresses are not allowed in production environments. If your application
                      sits behind a firewall, the true client IP can often be found in a header such as X-Forwarded-For
                    </Table.Cell>
                  </Table.Row>
                  <Table.Row className="cursor-pointer hover:bg-zinc-50">
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">
                      <div class="flex items-center gap-3">
                        <div class="h-3 w-3 rounded-full bg-orange-500"></div>
                         Jan 10, 04:35
                      </div>
                    </Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">/v1/log</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">$profile_update</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">succeeded</Table.Cell>
                    <Table.Cell className="whitespace-nowrap px-4 py-4 font-medium">–</Table.Cell>
                    <Table.Cell className="truncate px-4 py-4 font-mono">
                      response.body: One or more parameters are invalid: context[ip] Private and local IP addresses are not allowed in production environments. If your application
                      sits behind a firewall, the true client IP can often be found in a header such as X-Forwarded-For
                    </Table.Cell>
                  </Table.Row>
                </Table.Body>
                <Table.Footer>
                  <Table.Row className="bg-zinc-50">
                    <Table.Cell colspan="7" className="px-4 py-3 text-left font-medium text-gray-900">Total 3 events</Table.Cell>
                  </Table.Row>
                </Table.Footer>
              </Table>
            </Card>
          </div>
        </div>
      </div>
    </main>
  </div>
</Layout>
