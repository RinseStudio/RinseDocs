---
import Layout from '@/layouts/rinsedocs/Raw.astro';
import { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/Tabs';
import Button from '@/components/Button';
import Card from '@/components/Card';
import Table from '@/components/Table';
import {
  Dropdown,
  DropdownContent,
  DropdownGroup,
  DropdownHeader,
  DropdownItem,
  DropdownList,
  DropdownSeparator,
  DropdownTrigger,
} from '@/components/Dropdown';
import {
  Tooltip,
  TooltipTrigger,
  TooltipContent,
} from '@/components/Tooltip';
import SearchField from '@/components/SearchField/index.astro';
import { TextField } from '@/components/TextField';
import SelectField from '@/components/SelectField';
---

<Layout class="" x-data="{dialog: true}">
  <div
    class="fixed right-0 top-0 z-10"
    x-cloak
    x-show="dialog"
    x-transition:enter="duration-200 transform"
    x-transition:enter-start="opacity-0 translate-x-40"
    x-transition:enter-end="opacity-100 translate-x-0"
    x-transition:leave="duration-200 transform"
    x-transition:leave-start="opacity-100 translate-x-0"
    x-transition:leave-end="opacity-0 translate-x-40"
  >
    <div
      class="max-h-100vh relative h-[100dvh] w-[480px] max-w-3xl flex-1 overflow-auto rounded-l-xl bg-white shadow-xl"
    >
      <header
        class="flex items-center justify-between border-b border-zinc-200 px-4 py-4 pl-6"
      >
        <div>
          <h3 class="text-base font-bold text-black">Invite Team Member</h3>
        </div>
        <!-- <Button size="md" variant="secondary" isSquare @click="dialog = false">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-x"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg
          >
        </Button> -->
        <div class="flex justify-end gap-2">
          <Button size="sm" variant="secondary" @click="dialog = false">
            Cancel
          </Button>
          <Button size="sm" variant="primary">Invite user</Button>
        </div>
      </header>
      <div class="space-y-6 px-6 py-8">
        <div>
          <label
            class="mb-2 block text-[13px] font-semibold text-gray-900 dark:text-gray-400"
            >First name</label
          >
          <TextField placeholder="Jane" isFluid />
        </div>

        <div>
          <label
            class="mb-2 block text-[13px] font-semibold text-gray-900 dark:text-gray-400"
            >Last name</label
          >
          <TextField placeholder="Doe" isFluid />
        </div>

        <div>
          <label
            class="mb-2 block text-[13px] font-semibold text-gray-900 dark:text-gray-400"
            >Email</label
          >
          <TextField placeholder="example@comapny.com" type="email" isFluid />
        </div>

        <div>
          <label
            class="mb-2 block text-[13px] font-semibold text-gray-900 dark:text-gray-400"
            >User role</label
          >
          <fieldset class="flex">
            <div
              class="space-y-4 sm:flex sm:items-center sm:space-x-6 sm:space-y-0"
            >
              <div class="flex items-center">
                <input
                  id="email"
                  name="user-role"
                  type="radio"
                  checked
                  class="h-4 w-4 border-gray-300 text-blue-500 focus:ring-blue-500"
                />
                <label
                  for="email"
                  class="ml-3 block text-sm font-medium leading-6 text-gray-900"
                  >Admin</label
                >
              </div>
              <div class="flex items-center">
                <input
                  id="sms"
                  name="user-role"
                  type="radio"
                  class="h-4 w-4 border-gray-300 text-blue-500 focus:ring-blue-500"
                />
                <label
                  for="sms"
                  class="ml-3 block text-sm font-medium leading-6 text-gray-900"
                  >User</label
                >
              </div>
            </div>
          </fieldset>
        </div>
      </div>
    </div>
  </div>

  <div class="px-7 py-4">
    <h1 class="mb-2 text-lg font-bold text-black">Organization Settings</h1>
    <p class="text-sm text-gray-600">
      View or update your organization and billing settings.
    </p>
  </div>
  <div>
    <Tabs selection="users">
      <TabsList className="px-7">
        <TabsTrigger
          name="general"
          href="/components/templates/organization-settings/general"
        >
          General
        </TabsTrigger>
        <TabsTrigger
          name="users"
          href="/components/templates/organization-settings/users"
        >
          Users
        </TabsTrigger>
        <TabsTrigger
          name="billing"
          href="/components/templates/organization-settings/billing"
          isActe
        >
          Billing
        </TabsTrigger>
        <TabsTrigger
          name="environment"
          href="/components/templates/organization-settings/environment"
        >
          Environment
        </TabsTrigger>
      </TabsList>
    </Tabs>
  </div>
  <div class="px-7 py-10">
    <div class="space-y-14">
      <div>
        <h3 class="mb-4 flex items-center gap-2 text-sm font-bold text-black">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-user-plus"
            ><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle
              cx="9"
              cy="7"
              r="4"></circle><line x1="19" x2="19" y1="8" y2="14"></line><line
              x1="22"
              x2="16"
              y1="11"
              y2="11"></line></svg
          >
          Pending Invitations
        </h3>

        <div
          class="flex items-center justify-center rounded-lg border border-zinc-200 py-14 shadow-sm"
        >
          <div class="flex flex-col items-center text-center">
            <i class="fa-solid fa-user-plus mb-2 text-[40px] text-teal-500"></i>
            <h4 class="mb-3 text-lg font-bold text-teal-500">Invite team</h4>
            <p class="mb-5 max-w-[280px] text-sm text-gray-600">
              There are no pending invitations to show.
            </p>
            <Button size="md" @click="dialog = true">
              <i class="fa-regular fa-plus mr-1.5"></i> Add Team Member
            </Button>
          </div>
        </div>

        <div class="mt-4">
          <Button size="sm" variant="secondary" @click="dialog = true">
            <i class="fa-regular fa-plus mr-1.5"></i> Add Team Member
          </Button>
        </div>
      </div>

      <div>
        <div class="mb-4 flex items-end justify-between">
          <h3 class="flex items-center gap-2 text-sm font-bold text-black">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-users"
              ><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"
              ></path><circle cx="9" cy="7" r="4"></circle><path
                d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path
                d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg
            >
            Active Members
          </h3>
          <SearchField placeholder="Filter by email, first name, last name" />
        </div>

        <Card className="overflow-auto">
          <Table x-data="Table">
            <Table.Header>
              <Table.Row>
                <Table.Head className="w-[180px]">
                  <Button
                    size="sm"
                    variant="ghost"
                    @click="updateHeaderState(0)"
                  >
                    Member since
                    <i
                      x-cloak
                      x-show="sortSelection == 0"
                      class="fa-solid fa-fw ml-1 text-[11px]"
                      :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                    ></i>
                  </Button>
                </Table.Head>
                <Table.Head className="w-[180px]">
                  <Button
                    size="sm"
                    variant="ghost"
                    @click="updateHeaderState(1)"
                  >
                    First name
                    <i
                      x-cloak
                      x-show="sortSelection == 1"
                      class="fa-solid fa-fw ml-1 text-[11px]"
                      :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                    ></i>
                  </Button>
                </Table.Head>
                <Table.Head className="w-[180px]">
                  <Button
                    size="sm"
                    variant="ghost"
                    @click="updateHeaderState(2)"
                  >
                    Last name
                    <i
                      x-cloak
                      x-show="sortSelection == 2"
                      class="fa-solid fa-fw ml-1 text-[11px]"
                      :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                    ></i>
                  </Button>
                </Table.Head>
                <Table.Head className="w-[180px]">
                  <Button
                    size="sm"
                    variant="ghost"
                    @click="updateHeaderState(3)"
                  >
                    Email
                    <i
                      x-cloak
                      x-show="sortSelection == 3"
                      class="fa-solid fa-fw ml-1 text-[11px]"
                      :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                    ></i>
                  </Button>
                </Table.Head>
                <Table.Head className="w-[180px]">
                  <Button
                    size="sm"
                    variant="ghost"
                    @click="updateHeaderState(4)"
                  >
                    User role
                    <i
                      x-cloak
                      x-show="sortSelection == 4"
                      class="fa-solid fa-fw ml-1 text-[11px]"
                      :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                    ></i>
                  </Button>
                </Table.Head>
                <Table.Head className="w-[180px]">
                  <Button
                    size="sm"
                    variant="ghost"
                    @click="updateHeaderState(5)"
                  >
                    2FA
                    <i
                      x-cloak
                      x-show="sortSelection == 5"
                      class="fa-solid fa-fw ml-1 text-[11px]"
                      :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                    ></i>
                  </Button>
                </Table.Head>
                <Table.Head />
              </Table.Row>
            </Table.Header>
            <Table.Body>
              <Table.Row>
                <Table.Cell className="px-4">Mar 15, 2023</Table.Cell>
                <Table.Cell className="px-4">Adam</Table.Cell>
                <Table.Cell className="px-4">Zima</Table.Cell>
                <Table.Cell className="px-4">adam.zima@castle.io</Table.Cell>
                <Table.Cell className="px-4">Admin</Table.Cell>
                <Table.Cell className="px-4">Enabled</Table.Cell>
                <Table.Cell className="px-4 py-3">
                  <div class="flex justify-end gap-1.5">
                    <Button
                      size="xs"
                      variant="outline"
                      @click="updateHeaderState(5)"
                    >
                      Edit role
                      <i
                        x-cloak
                        x-show="sortSelection == 5"
                        class="fa-solid fa-fw ml-1 text-[11px]"
                        :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                      ></i>
                    </Button>
                    <Button
                      size="xs"
                      variant="outline"
                      @click="updateHeaderState(5)"
                    >
                      Remove
                      <i
                        x-cloak
                        x-show="sortSelection == 5"
                        class="fa-solid fa-fw ml-1 text-[11px]"
                        :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                      ></i>
                    </Button>
                  </div>
                </Table.Cell>
              </Table.Row>
              <Table.Row>
                <Table.Cell className="px-4">Mar 15, 2023</Table.Cell>
                <Table.Cell className="px-4">Adam</Table.Cell>
                <Table.Cell className="px-4">Zima</Table.Cell>
                <Table.Cell className="px-4">adam.zima@castle.io</Table.Cell>
                <Table.Cell className="px-4">Admin</Table.Cell>
                <Table.Cell className="px-4">Enabled</Table.Cell>
                <Table.Cell className="px-4 py-3">
                  <div class="flex justify-end gap-1.5">
                    <Button
                      size="xs"
                      variant="outline"
                      @click="updateHeaderState(5)"
                    >
                      Edit role
                      <i
                        x-cloak
                        x-show="sortSelection == 5"
                        class="fa-solid fa-fw ml-1 text-[11px]"
                        :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                      ></i>
                    </Button>
                    <Button
                      size="xs"
                      variant="outline"
                      @click="updateHeaderState(5)"
                    >
                      Remove
                      <i
                        x-cloak
                        x-show="sortSelection == 5"
                        class="fa-solid fa-fw ml-1 text-[11px]"
                        :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                      ></i>
                    </Button>
                  </div>
                </Table.Cell>
              </Table.Row>
              <Table.Row>
                <Table.Cell className="px-4">Mar 15, 2023</Table.Cell>
                <Table.Cell className="px-4">Adam</Table.Cell>
                <Table.Cell className="px-4">Zima</Table.Cell>
                <Table.Cell className="px-4">adam.zima@castle.io</Table.Cell>
                <Table.Cell className="px-4">Admin</Table.Cell>
                <Table.Cell className="px-4">Enabled</Table.Cell>
                <Table.Cell className="px-4 py-3">
                  <div class="flex justify-end gap-1.5">
                    <Button
                      size="xs"
                      variant="outline"
                      @click="updateHeaderState(5)"
                    >
                      Edit role
                      <i
                        x-cloak
                        x-show="sortSelection == 5"
                        class="fa-solid fa-fw ml-1 text-[11px]"
                        :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                      ></i>
                    </Button>
                    <Button
                      size="xs"
                      variant="outline"
                      @click="updateHeaderState(5)"
                    >
                      Remove
                      <i
                        x-cloak
                        x-show="sortSelection == 5"
                        class="fa-solid fa-fw ml-1 text-[11px]"
                        :class="isAscending == true ? 'fa-angle-down' : 'fa-angle-up'"
                      ></i>
                    </Button>
                  </div>
                </Table.Cell>
              </Table.Row>
            </Table.Body>
            <Table.Footer>
              <Table.Row className="bg-zinc-50">
                <Table.Cell
                  colspan="7"
                  className="px-4 py-3 text-left font-medium text-gray-900"
                >
                  Total 3 users
                </Table.Cell>
              </Table.Row>
            </Table.Footer>
          </Table>
        </Card>

        <div class="mt-4">
          <Button size="sm" variant="secondary">
            <i class="fa-regular fa-plus mr-1.5"></i> Add Team Member
          </Button>
        </div>
      </div>
    </div>
  </div>
</Layout>

<script>
  import Alpine from 'alpinejs';

  Alpine.data('Table', () => ({
    sortSelection: 0,
    isAscending: true,
    updateHeaderState(selection) {
      if (this.sortSelection == selection) {
        this.isAscending = !this.isAscending;
      } else {
        this.isAscending = true;
        this.sortSelection = selection;
      }
    },
  }));
</script>@/components/Button@/components/Card@/components/Table@/components/Dropdown@/components/Tooltip@/components/SelectField

@/components/Tabs@/components/Button@/components/Card@/components/Table@/components/Dropdown@/components/Tooltip@/components/TextField@/components/SelectField