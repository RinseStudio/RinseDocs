---
import { getCollection } from 'astro:content';
import { SITE } from '@/rinsedocs.config';

import Layout from '@layouts/rinsedocs/Base.astro';
import * as helper from '@js/rinsedocs.model.js';
import SidebarList from '@rinseui/SidebarList.astro';
import TOC from '@rinseui/TOC.astro';

const { frontmatter, headings, entry } = Astro.props;

const collection = entry.collection;
const allPages = await getCollection(collection, ({ data }) => {
  return data.draft !== true;
});

const navigation = helper.buildNavigation(allPages, Astro.url.pathname, SITE.sidebarOverrides.components);

const breadcrumb = helper.buildBreadcrumb(entry.slug);

import Button from '@rinseui/elements/Button/index.astro';
---

<Layout title={frontmatter.title} pageSettings={frontmatter.pageSettings} frontmatter={frontmatter} />
