---
const { placeholder = 'Search field', value = '', validation = 'default', fluid = false, disabled = false } = Astro.props;

const getRingClass = (validation) => {
  const schema = {
    default: `ring-1 ring-inset ring-zinc-300`,
    success: `ring-2 ring-inset ring-green-500 dark:ring-green-500`,
    error: `ring-2 ring-inset ring-red-400 dark:ring-red-400`,
  };

  return schema[validation] ? `${schema[validation]}` : `${schema['default']}`;
};

const getTextClass = (validation) => {
  const schema = {
    default: `text-gray-900 dark:text-gray-200 placeholder:text-gray-400`,
    success: `text-green-800 dark:text-green-200 placeholder:text-green-500`,
    error: `text-red-900 dark:text-red-200 placeholder:text-red-300`,
  };

  return schema[validation] ? `${schema[validation]}` : `${schema['default']}`;
};
---

<div class="relative">
  <input
    type="text"
    class={`flex h-9 items-center rounded-md border-0 text-[13px] shadow-sm dark:ring-zinc-700 disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500 dark:disabled:text-gray-400 disabled:ring-gray-200 dark:disabled:bg-zinc-100/[0.06] bg-white dark:bg-zinc-100/[0.06] 
    ${getRingClass(validation)} 
		${getTextClass(validation)} 
    ${fluid ? 'w-full' : 'w-[320px]'}`}
    placeholder={placeholder}
    value={value}
    disabled={disabled}
  />
</div>
