---
import { twMerge } from 'tailwind-merge';

const { data, validation, size = 'md', className, ...props } = Astro.props;
---

<select
  data-validation={validation}
  class={twMerge(
    // Base
    `relative 
    flex 
    h-9 
    py-0 
    items-center 
    rounded-md 
    border-0 
    gap-3 
    bg-white 
    pr-6
    text-[13px] 
    text-gray-900 
    shadow-sm 
    ring-1 
    ring-inset 
    ring-zinc-950/10 
    placeholder:text-gray-400 
    hover:ring-zinc-950/20 
    disabled:cursor-not-allowed 
    disabled:bg-gray-50 
    disabled:text-gray-500 
    disabled:ring-gray-200 
    dark:bg-zinc-100/[0.06] 
    dark:text-gray-200 
    dark:ring-zinc-50/10 
    dark:hover:ring-zinc-50/20 
    dark:disabled:bg-zinc-100/[0.06] 
    dark:disabled:text-gray-400`,

    // Focus
    `
    focus-visible:outline-none 
    focus-visible:ring-2 
    focus-visible:ring-inset 
    focus-visible:ring-blue-500
    dark:focus-visible:ring-blue-500`,

    `
    bg-white 
    text-gray-900 
    ring-1 
    ring-inset 
    ring-zinc-950/10 
    placeholder:text-gray-400 
    hover:ring-zinc-950/20 
    focus-visible:outline-none 
    focus-visible:ring-2 
    focus-visible:ring-inset 
    focus-visible:ring-blue-500 
    disabled:cursor-not-allowed 
    disabled:bg-gray-50 
    disabled:text-gray-500 
    disabled:ring-gray-200 
    dark:bg-zinc-100/[0.06] 
    dark:text-gray-200 
    dark:ring-zinc-50/10 
    dark:hover:ring-zinc-50/20 
    dark:focus-visible:ring-blue-500 
    dark:disabled:bg-zinc-100/[0.06] 
    dark:disabled:text-gray-400
    
    data-[validation=success]:ring-2 
    data-[validation=success]:ring-green-500 
    data-[validation=success]:dark:ring-green-500 
    data-[validation=success]:text-green-800 
    data-[validation=success]:dark:text-green-200 
    data-[validation=success]:placeholder:text-green-500

    data-[validation=error]ring-2 
    data-[validation=error]ring-red-500 
    data-[validation=error]dark:ring-red-500 
    data-[validation=error]text-red-800 
    data-[validation=error]dark:text-red-200 
    data-[validation=error]placeholder:text-red-500
    `,

    size == 'xs' && 'text-[12px] h-7 pl-3',
    size == 'sm' && 'text-[13px] h-8 pl-3',
    size == 'md' && 'text-[14px] h-9 pl-3',
    size == 'lg' && 'text-[15px] h-10 pl-3',
    size == 'xl' && 'text-[16px] h-11 pl-4',

    className,
  )}
  {...props}
>
  <slot />
</select>
